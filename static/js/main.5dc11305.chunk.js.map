{"version":3,"sources":["components/streams/StreamForm.js","history.js","apis/streams.js","actions.js/index.js","actions.js/types.js","components/streams/StreamCreate.js","components/streams/StreamShow.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamEdit.js","components/streams/StreamList.js","components/GoogleAuth.js","components/Header.js","components/App.js","Reducers.js/authReducer.js","Reducers.js/index.js","Reducers.js/streamsReducer.js","index.js"],"names":["StreamForm","renderError","_ref","error","touched","react_default","a","createElement","className","renderInput","_ref2","input","label","meta","concat","_this","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","createBrowserHistory","axios","create","baseURL","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","sent","type","payload","data","stop","_x4","apply","arguments","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","match","params","buildPlayer","player","stream","flv","createPlayer","url","attachMediaElement","current","load","destroy","ref","controls","state","ownProps","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","renderActions","Fragment","deleteStream","react_router_dom","to","renderContent","components_Modal","_ref4","_callee4","_context4","delete","_x5","StreamEdit","editStream","initialValues","_","pick","_ref5","_callee5","_context5","patch","_x6","StreamList","renderCreate","isSignedIn","style","textAlign","renderButton","currentUserId","renderList","map","key","fetchStreams","values","_callee2","_context2","_x3","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","Header","components_GoogleAuth","App","react_router","components_Header","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","mapKeys","defineProperty","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","Reducers","applyMiddleware","reduxThunk","render","es","components_App","getElementById"],"mappings":"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","file":"static/js/main.5dc11305.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\n \r\nclass StreamForm extends React.Component{\r\nrenderError = ({ error, touched }) =>{\r\nif(error && touched){\r\n    return( \r\n    <div className=\" ui error message\">\r\n        <div className=\"header\">\r\n            {error}\r\n        </div>\r\n    </div> );\r\n}\r\n} \r\n\r\nrenderInput = ({ input,label,meta }) =>{\r\n    const className= `field ${meta.error && meta.touched ? 'error': '' }`\r\n        return (\r\n        <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} />\r\n        <div>{this.renderError(meta)}</div>\r\n        </div>\r\n        );\r\n    }\r\n    onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n    }\r\n    render() {\r\n       \r\n        return (\r\n            <form className=\"ui form error\" onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n            <Field name=\"title\" component ={this.renderInput} label=\"Enter Title\"/>\r\n            <Field name=\"description\" component ={this.renderInput} label=\"Enter Description\" />\r\n            <button className=\"ui button primary\">Submit</button>\r\n            </form>\r\n            );\r\n    }\r\n    \r\n};\r\n\r\nconst validate = formValues => {\r\n    const errors = {};\r\n\r\n    if(!formValues.title){\r\n    errors.title = \"You must enter a title\";\r\n    }\r\n\r\n    if(!formValues.description)\r\n    errors.description = \"You must enter the description\";\r\n\r\n    return errors;\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'streamCreate',\r\n    validate\r\n})(StreamForm);\r\n\r\n","import { createBrowserHistory } from 'history'; \r\nexport default createBrowserHistory();","import axios from 'axios';\r\nexport default axios.create({\r\n    baseURL: 'http://localhost:3001'\r\n})","import { \r\n    SIGN_IN, \r\n    SIGN_OUT, \r\n    CREATE_STREAM,\r\n    FETCH_STREAM,\r\n    FETCH_STREAMS,\r\n    EDIT_STREAM ,\r\n    DELETE_STREAM\r\n} \r\nfrom '../actions.js/types.js';\r\nimport history from '../history';\r\nimport streams from '../apis/streams';\r\n\r\nexport const signIn = (userId) => {\r\n    return {\r\n     type: SIGN_IN,\r\n     payload: userId\r\n    };\r\n};\r\n\r\nexport const signOut = () =>{\r\n    return {\r\n        type: SIGN_OUT\r\n    };\r\n};\r\n\r\nexport const createStream = formValues => async (dispatch,getState) => {\r\n    const { userId } = getState().auth;\r\n    const response = await streams.post('/streams', {...formValues, userId });\r\n\r\n    dispatch({ type: CREATE_STREAM, payload: response.data});\r\n\r\n    //Here we are gonna create our own history object\r\n    history.push('/');\r\n}\r\nexport const fetchStreams = () => async dispatch => {\r\n    const response = await streams.get('/streams');\r\n\r\n    dispatch({ type: FETCH_STREAMS, payload: response.data});\r\n}\r\nexport const fetchStream = (id) => async dispatch => {\r\n    const response = await streams.get(`/streams/${id}`);\r\n\r\n    dispatch({ type: FETCH_STREAM, payload: response.data});\r\n}\r\nexport const deleteStream = (id) => async dispatch => {\r\n     await streams.delete(`/streams/${id}`);\r\n\r\n    dispatch({ type: DELETE_STREAM, payload: id});\r\n    history.push('/');\r\n}\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n    const response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n    dispatch({ type: EDIT_STREAM, payload: response.data});\r\n\r\n    history.push('/');\r\n}","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT'; \r\nexport const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM = 'EDIT_STREAM';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport StreamForm from './StreamForm.js';\r\nimport { createStream } from '../../actions.js/index.js';\r\n\r\n \r\nclass StreamCreate extends React.Component{\r\n\r\n    onSubmit = (formValues) => {\r\n    this.props.createStream(formValues);\r\n    }\r\n    render() {\r\n       \r\n        return (\r\n           <div>\r\n               <h3>Create a Stream</h3>\r\n               <StreamForm onSubmit={this.onSubmit} />\r\n           </div>\r\n            );\r\n    }\r\n    \r\n};\r\n\r\n\r\nexport default connect(null, {\r\n    createStream: createStream\r\n})(StreamCreate);","import React from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport { fetchStream } from '../../actions.js/index.js'; \r\nimport flv from 'flv.js';\r\n\r\nclass StreamShow extends React.Component{\r\n    constructor(props){\r\n   super(props);\r\n    this.videoRef = React.createRef();\r\n    }\r\n    componentDidMount(){\r\n        const { id } = this.props.match.params;\r\n        this.props.fetchStream(id);\r\n        this.buildPlayer();\r\n    }\r\n    \r\ncomponentDidUpdate(){\r\n    this.buildPlayer();\r\n}\r\n\r\n    buildPlayer(){\r\n        const { id } = this.props.match.params;\r\n        if(this.player || !this.props.stream){\r\n            return;\r\n        }\r\n        this.player =  flv.createPlayer({\r\n            type: 'flv',\r\n            url: `http://localhost:8000/live/${id}.flv`\r\n        });\r\n        this.player.attachMediaElement(this.videoRef.current);\r\n        this.player.load();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.player.destroy();\r\n    }\r\n    render(){\r\n        if(!this.props.stream)\r\n        return <div>Loading...</div>;\r\n        \r\n        return (\r\n        <div>\r\n           <video ref={this.videoRef} controls/>\r\n           <h1>{this.props.stream.title}</h1>\r\n           <h5>{this.props.stream.description}</h5>\r\n        </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n    stream: state.streams[ownProps.match.params.id]\r\n    };\r\n    }\r\n\r\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n\r\nconst Modal = (props) => {\r\n    return ReactDOM.createPortal(\r\n        <div onClick = {props.onDismiss} className=\"ui dimmer modals visible active\">\r\n            <div onClick = {(e) => {e.stopPropagation()}} className=\"ui standard modal visible active\">\r\n                <div className=\"header\">{props.title}</div>\r\n                <div className=\"content\">{props.content}</div>\r\n                <div className=\"actions\">\r\n                    {props.actions}\r\n                </div>\r\n            </div>\r\n        </div>,\r\n        document.querySelector('#modal')\r\n    );\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream,deleteStream } from '../../actions.js/index.js';\r\nimport Modal from '../Modal.js';\r\nimport history from '../../history.js';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamDelete extends React.Component{\r\n     renderActions = () => {\r\n         const id= this.props.match.params.id;\r\n    return(\r\n        <React.Fragment>\r\n     <button onClick={() => this.props.deleteStream(id)} className=\"ui negative button\">Delete</button>\r\n     <Link to='/' className=\"ui button\" >Cancel</Link>\r\n     </React.Fragment>\r\n    );\r\n     }\r\n\r\n     renderContent = () => {\r\n        if(!this.props.stream){\r\n            return <div>Are you sure you want to delete this stream??</div>\r\n        }\r\n        return (\r\n            <div>{`Are you sure you want to delete this stream with title: ${this.props.stream.title}`}??</div>\r\n        );\r\n     }\r\n\r\n    componentDidMount(){\r\n     this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n    render(){\r\n        return (\r\n        <Modal title=\"Delete Stream\"\r\n        content = {this.renderContent()}\r\n        actions={this.renderActions()}\r\n        onDismiss = {()=> {history.push('/')}}\r\n        />\r\n        );\r\n    }\r\n   \r\n};\r\nconst mapStateToProps =(state, ownProps) => {\r\n    return {\r\n        stream: state.streams[ownProps.match.params.id]\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStream,deleteStream })(StreamDelete);","import React from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport { fetchStream, editStream } from '../../actions.js/index.js'; \r\nimport StreamForm from './StreamForm.js';\r\nimport _ from 'lodash';\r\n\r\nclass StreamEdit extends React.Component {\r\n    componentDidMount(){\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n    onSubmit = (formValues) => {\r\n        this.props.editStream(this.props.match.params.id, formValues);\r\n    }\r\n    render(){\r\n        if(!this.props.stream)\r\n        return <div>Loading...</div>;\r\n        \r\n        return (\r\n        <div>\r\n           <h3>Edit a Stream</h3>\r\n           <StreamForm initialValues ={_.pick(this.props.stream, 'title', 'description')} onSubmit={this.onSubmit} />\r\n        </div>\r\n        );\r\n    }\r\n    \r\n};\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\nreturn {\r\nstream: state.streams[ownProps.match.params.id]\r\n};\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStreams } from '../../actions.js/index.js';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamList extends React.Component {\r\n    componentDidMount(){\r\n        this.props.fetchStreams();\r\n    }\r\nrenderCreate= () => {\r\nif(this.props.isSignedIn){\r\n    return (\r\n        <div style = {{textAlign: \"right\"}}>\r\n        <Link to=\"/streams/new\" className=\"ui button primary\">Create Stream</Link>\r\n        </div>\r\n    );\r\n}\r\n}\r\n\r\nrenderButton = (stream) =>{\r\nif(stream.userId === this.props.currentUserId)\r\nreturn (\r\n    <div className=\"right floated content\">\r\n        <Link to={`streams/edit/${stream.id}`} className=\"ui button primary\">Edit</Link>\r\n        <Link to={`streams/delete/${stream.id}`} className=\"ui button negative\">Delete</Link>\r\n    </div>\r\n);\r\n}\r\n\r\nrenderList = ()=>{\r\n    return this.props.streams.map(stream =>{\r\n        return (\r\n            <div className=\"item\" key={stream.id}>\r\n                               {this.renderButton(stream)}\r\n                <i className=\"large aligned middle icon camera\"></i>\r\n                <div className=\"content\">\r\n                    <Link to={`/streams/${stream.id}`} className=\"header\">{stream.title}</Link>\r\n                    <div className=\"description\">\r\n                        {stream.description}\r\n                    </div>\r\n                </div>\r\n \r\n            </div>\r\n        );\r\n    })\r\n    }\r\n    render(){\r\n    return(\r\n        <div>\r\n        <h2>Streams</h2>\r\n        <div className=\"ui celled list\">{this.renderList()}</div>\r\n        <div>{this.renderCreate()}</div>\r\n        </div>\r\n    );\r\n    }\r\n};\r\n\r\nconst mapStateToProps =(state) => {\r\n    return {\r\n        streams: Object.values(state.streams),\r\n        currentUserId: state.auth.userId,\r\n        isSignedIn: state.auth.isSignedIn\r\n    };\r\n}\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);","import React from 'react';\r\nimport { connect} from 'react-redux';\r\nimport { signIn, signOut } from '../actions.js';\r\nclass GoogleAuth extends React.Component{\r\n \r\n    componentDidMount() {\r\n        window.gapi.load('client: auth2', ()=>{\r\n            window.gapi.client.init({\r\n                clientId: '191830205493-e2u2lavkeh6mblppnekdsrogg66plsnt.apps.googleusercontent.com',\r\n                scope: 'email'\r\n            }).then(()=>{\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                this.onAuthChange(this.auth.isSignedIn.get());\r\n                this.auth.isSignedIn.listen( this.onAuthChange);\r\n                \r\n            })\r\n        })\r\n    }\r\n\r\n    onAuthChange =(isSignedIn) => {\r\n        if(isSignedIn)\r\n        this.props.signIn(this.auth.currentUser.get().getId());\r\n        else\r\n        this.props.signOut();\r\n    }\r\n    \r\n    onSignInClick = () => {\r\n        this.auth.signIn();\r\n    }\r\n\r\n    onSignOutClick = () => {\r\n        this.auth.signOut();\r\n    }\r\n\r\n    renderButton = () => {\r\n       if(this.props.isSignedIn===null){\r\n           return <div>I don't know</div>;\r\n       }else if(this.props.isSignedIn){\r\n           return (\r\n           <button className=\"ui red google button\" onClick ={this.onSignOutClick}>\r\n               <i className=\"google icon\"></i>\r\n               Sign Out</button>\r\n           );\r\n       }\r\n       else{\r\n           return (\r\n            <button className=\"ui red google button\" onClick ={this.onSignInClick}>\r\n                <i className=\"google icon\"></i>\r\n                Sign In With Google</button>\r\n            );\r\n       }\r\n    }\r\n    render(){\r\n        return(\r\n            <div>{this.renderButton()}</div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps =(state) =>{\r\nreturn { isSignedIn: state.auth.isSignedIn};\r\n}\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = () =>{\r\n\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"item\">Streamer</Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/\" className=\"item\"> All Streams</Link>\r\n                <GoogleAuth />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport StreamCreate from './streams/StreamCreate';\r\nimport StreamShow from './streams/StreamShow';\r\nimport StreamDelete from './streams/StreamDelete';\r\nimport StreamEdit from './streams/StreamEdit';\r\nimport StreamList from './streams/StreamList';\r\nimport Header from './Header';\r\nimport history from '../history';\r\n\r\nconst App = () => {\r\n    return(\r\n    <div className=\"ui container\">\r\n        <Router history={history}>\r\n    <div>\r\n        <Header />\r\n        <Switch>\r\n        <Route path=\"/\" exact component={StreamList} />\r\n        <Route path=\"/streams/new\" exact component={StreamCreate} />\r\n        <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n        <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n        <Route path=\"/streams/:id\" exact component={StreamShow} />\r\n        </Switch>\r\n    </div>\r\n    </Router>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import { SIGN_IN, SIGN_OUT} from '../actions.js/types.js';\r\n\r\nconst INITIAL_STATE ={\r\n    isSignedIn: null,\r\n    userId: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n switch (action.type){\r\n case SIGN_IN:\r\n     return {...state, isSignedIn: true, userId: action.payload};\r\n  case SIGN_OUT:\r\n      return {...state, isSignedIn: false, userId: null};\r\n   default:\r\n       return state;      \r\n }\r\n\r\n}","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { streamsReducer } from './streamsReducer';\r\n\r\nexport default combineReducers ({\r\nauth: authReducer,\r\nform: formReducer,\r\nstreams: streamsReducer\r\n})","import _ from 'lodash';\r\n\r\nimport { \r\n    CREATE_STREAM,\r\n    FETCH_STREAM,\r\n    FETCH_STREAMS,\r\n    EDIT_STREAM ,\r\n    DELETE_STREAM\r\n}\r\nfrom '../actions.js/types.js';\r\n\r\nexport const streamsReducer = (state ={}, action) =>{\r\n    switch(action.type){\r\n        case FETCH_STREAMS:\r\n            return { ...state, ..._.mapKeys(action.payload, 'id')};\r\n        case FETCH_STREAM:\r\n            return { ...state, [action.payload.id]: action.payload};\r\n        case CREATE_STREAM:\r\n            return { ...state, [action.payload.id]: action.payload};\r\n        case EDIT_STREAM:\r\n             return { ...state, [action.payload.id]: action.payload}; \r\n        case DELETE_STREAM:\r\n            return _.omit(state, action.payload);             \r\n        default:\r\n        return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport Reducers from './Reducers.js';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__|| compose;\r\n\r\nconst store = createStore(Reducers, composeEnhancers(applyMiddleware(reduxThunk)));\r\n\r\nReactDOM.render(\r\n <Provider store={store}>\r\n<App />\r\n</Provider>,\r\n document.getElementById('root'));"],"sourceRoot":""}